# ===========================================
# Webhook Server Configuration Examples
# ===========================================

# Server Configuration
PORT=3000
HOST=0.0.0.0
NODE_ENV=development

# ===========================================
# Storage Configuration Examples
# ===========================================

# Example 1: SQLite (Default - Good for development)
PRIMARY_STORAGE_TYPE=sqlite
PRIMARY_STORAGE_URL="file:./dev.db"

# Example 2: MySQL (Good for production)
# PRIMARY_STORAGE_TYPE=mysql
# PRIMARY_STORAGE_HOST=localhost
# PRIMARY_STORAGE_PORT=3306
# PRIMARY_STORAGE_DATABASE=webhooks
# PRIMARY_STORAGE_USERNAME=root
# PRIMARY_STORAGE_PASSWORD=your-mysql-password
# PRIMARY_STORAGE_SSL=false
# PRIMARY_STORAGE_MAX_CONNECTIONS=10
# PRIMARY_STORAGE_TIMEOUT=30000

# Example 3: PostgreSQL (Good for production)
# PRIMARY_STORAGE_TYPE=postgresql
# PRIMARY_STORAGE_URL="postgresql://username:password@localhost:5432/webhooks"
# PRIMARY_STORAGE_SSL=false
# PRIMARY_STORAGE_MAX_CONNECTIONS=10

# Example 4: Elasticsearch (Best for large scale and search)
# PRIMARY_STORAGE_TYPE=elasticsearch
# PRIMARY_STORAGE_HOST=localhost
# PRIMARY_STORAGE_PORT=9200
# PRIMARY_STORAGE_USERNAME=elastic
# PRIMARY_STORAGE_PASSWORD=your-elastic-password
# PRIMARY_STORAGE_SSL=true
# PRIMARY_STORAGE_INDEX=webhook-messages
# PRIMARY_STORAGE_TIMEOUT=30000

# ===========================================
# Fallback Storage (Optional)
# ===========================================
ENABLE_FALLBACK_STORAGE=false

# Example: Use MySQL as fallback when primary is Elasticsearch
# FALLBACK_STORAGE_TYPE=mysql
# FALLBACK_STORAGE_HOST=localhost
# FALLBACK_STORAGE_PORT=3306
# FALLBACK_STORAGE_DATABASE=webhooks_backup
# FALLBACK_STORAGE_USERNAME=root
# FALLBACK_STORAGE_PASSWORD=your-mysql-password

# ===========================================
# Queue Configuration (For High Volume)
# ===========================================
ENABLE_QUEUE=false

# Redis Configuration for Queue
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
# REDIS_DB=0

# Alternative: Redis URL
# REDIS_URL=redis://username:password@localhost:6379/0

# ===========================================
# Webhook Configuration
# ===========================================
WEBHOOK_SECRET=your-webhook-secret-here
WEBHOOK_BATCH_SIZE=100
WEBHOOK_BATCH_TIMEOUT=5000

# ===========================================
# Docker Compose 配置示例
# ===========================================

# 使用 Elasticsearch + PostgreSQL 备用存储
# PRIMARY_STORAGE_TYPE=elasticsearch
# PRIMARY_STORAGE_HOST=elasticsearch
# PRIMARY_STORAGE_PORT=9200
# PRIMARY_STORAGE_INDEX=webhook-messages
# ENABLE_FALLBACK_STORAGE=true
# FALLBACK_STORAGE_TYPE=postgresql
# FALLBACK_STORAGE_URL="postgresql://webhook:webhook123@postgres:5432/webhook_db"

# 使用 PostgreSQL 主存储
# PRIMARY_STORAGE_TYPE=postgresql
# PRIMARY_STORAGE_URL="postgresql://webhook:webhook123@postgres:5432/webhook_db"

# 使用 MySQL 主存储
# PRIMARY_STORAGE_TYPE=mysql
# PRIMARY_STORAGE_HOST=mysql
# PRIMARY_STORAGE_PORT=3306
# PRIMARY_STORAGE_DATABASE=webhook_db
# PRIMARY_STORAGE_USERNAME=webhook
# PRIMARY_STORAGE_PASSWORD=webhook123

# Redis 队列配置
# ENABLE_QUEUE=true
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=redis123

# ===========================================
# Data Cleanup Configuration
# ===========================================
ENABLE_CLEANUP=true
RETENTION_DAYS=30
CLEANUP_HOUR=2

# ===========================================
# CORS Configuration
# ===========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com
